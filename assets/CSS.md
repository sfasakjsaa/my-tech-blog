### 1、小程序和vue有什么区别

- 语法差异：Vue使用基于HTML的模板语法（即Vue模板），而小程序使用类似于HTML的WXML语法。
- 开发环境：Vue可以在浏览器中直接调试和运行，而小程序需要在微信开发者工具中进行预览和调试。
- 架构差异：Vue是一个完整的前端框架，可以用于构建SPA（单页应用）和MPA（多页应用），而小程序是微信提供的一种特殊的前端框架，用于构建微信小程序。
- 生态系统：Vue拥有更加成熟和庞大的生态系统，具有大量的第三方插件和库可供选择，而小程序的生态系统相对较小，但也有一些常用的插件可供使用。
- 跨平台能力：Vue可以通过使用框架如uni-app实现多端开发，可以开发Web、小程序、App等多种平台的应用；而小程序主要面向微信平台，不支持跨多个平台。

### 2、uniapp和vue区别

- Uniapp是一款基于Vue.js框架的跨平台应用开发框架。它可以将同一份代码编译生成多个应用程序，包括iOS、Android、H5、小程序等；Vue是一个前端开发框架；
- uni-app可以通过打包实现一套代码多端运行，而vue不行；
- uni-app有自动的框架预载，加载页面的速度更快，vue没有；
- uniapp使用小程序的标签，vue使用web端的标签；
- uni不支持vue-router，使用自带的路由；

### 3、uniapp跳转方式有哪些

- uni.navigateTo() 跳转路由或页面
- uni.navigateBack() 方法返回原页面
- uni.redirectTo() 关闭当前所有页面
- uni.reLaunch() 关闭所有页面
- uni.switchTab() 跳转到应用的底部导航栏页面

### 4、如果客户需求从网页可以打开小程序，你会怎么做

1. 使用小程序二维码
    - 打开微信小程序的开发者工具，在左侧菜单中选择"预览"。
    - 在预览界面上方选择"小程序二维码"。
    - 将生成的小程序二维码保存为图片。
    - 在网页中将保存的小程序二维码图片插入到合适的位置
2. 使用小程序URL链接
    - 在微信小程序的开发者工具中，打开小程序，在左侧菜单中选择"设置"。
    - 在设置界面中选择"基本设置"。
    - 在基本设置中找到"开发版"、"体验版"或"正式版"的小程序链接。
    - 将链接复制到网页的合适位置，用户可以通过点击链接来启动微信小程序

### 5、uni-app和原生小程序有什么区别

1. 原生应用程序通常是使用平台特定的编程语言来编写的；
2. 因为原生应用程序是为特定平台编写的，所以它们在性能方面比uniapp要好得多；
3. 原生应用程序兼容性非常有限，需要编写特定平台的版本；

### 6、小程序生命周期

微信小程序的生命周期分为三个部分：应用级生命周期、页面级生命周期、组件的生命周期。

这里可能会问：从打开小程序到进入一个页面，应用及页面的生命周期执行顺序？

1. 应用生命周期
    - onLaunch: 初始化小程序完成时触发，且全局只触发一次；
    - onShow: 小程序初始化完成（启动）或从后台切换到前台显示时触发；
    - onHide: 小程序从前台切换到后台隐藏时触发（如切换到其他app中）；
    - onError: 小程序发生脚本错误或者api调用失败的时候，会触发 onError 并带上错误信息
2. 页面生命周期
    - onLoad : 页面加载时触发。一个页面只会调用一次，可以在 onLoad的参数中获取打开当前页面路径中的参数
    - onShow : 页面显示 / 切入前台时触发调用。
    - onReady : 页面初次渲染完成时触发,一个页面只会调用一次。
    - onHide : 页面隐藏 / 切入后台时触发，如 navigateTo 或底部 tab切换到其他页面，小程序切入后台
3. 组件的生命周期
    - 和 Vue 的生命周期钩子是一致

### 7、小程序有哪些传值的方法

1. 使用全局变量
    - 在 app.js 中的 this.globalData = { } 中放入要存储的数据。
    - 在 组件.js 中， 头部 引入 const app = getApp(); 获取到全局变量
    - 直接使用 app.globalData.key 来进行赋值和获取值。
2. 使用路由
    - wx.navigateTo 和 wx.redirectTo 时，可以通过在 url 后 拼接 + 变量， 然后在 目标页面 通过在 onLoad 周期中，通过参数来获取传递过来的值。
3. 使用本地缓存(本地存储)

### 8、wxss和css有什么区别

1. wxss 背景图片只能引入外链，不能使用本地图片
2. 小程序样式使用 @import 引入 外联样式文件，地址为相对路径。
3. 尺寸单位为 rpx , rpx 是响应式像素,可以根据屏幕宽度进行自适应

### 9、uniapp和原生小程序 分别使用什么方式来全局注册组件

1. **uniapp全局注册组件**
    - 只要组件安装在项目的components目录下或`uni_modules`目录下，并符合`components/组件名称/组件名称.(vue|uvue)`目录结构（注意：当同时存在vue和uvue时，uni-app 项目优先使用 vue 文件，而uni-app x 项目优先使用 uvue 文件）。就可以不用引用、注册，直接在页面中使用。
    - 如果组件名称或路径不符合easycom的默认规范，可以在`pages.json`的`easycom`节点进行个性化设置。

```JSON
//位置 pages.json
{ 
  "easycom": {
    "autoscan": true,
    "custom": {
      "^mt-(.*)": "@/components/blog/mt-$1.vue",
      "GlobalComponent": "@/components/index.vue"
    }
  }
 }
```
2. **在app.json中注册组件**: 
    - 在`app.json`的`usingComponents`字段中指定组件的位置。

```JavaScript
{
  "usingComponents": {
    "my-component": "path/to/my-component"
  }
}
```

### 10、怎么解决小程序的异步请求问题（同其他项目）

1. 请求中返回一个Promise对象，可以使用Promise的then()方法来处理异步请求的结果；
2. 使用async/await：利用async/await语法糖，可以让异步请求更加简洁易读；

### 11、小程序打包上线流程

1. 在uni-app端完成微信小程序的打包；
2. 在微信开发者工具中将代码上传到微信公众平台，形成体验版；
3. 测试人员根据扫描体验版二维码进行最后的测试工作；
4. 测试通过后，点击提交审核，进入审核流程，通常24小时就能出结果；
5. 审核通过后，用户即可通过微信小程序搜索到我们的小程序；
6. 小程序存在的几个版本：开发版—>体验版—>审核版—>线上版

### 12、微信支付流程

1. 打开小程序，点击下单
2. wx.login获取用户临时登录凭证code，发送到后端服务器换取openId
3. 在下单时，小程序需要将购买的商品Id，商品数量，以及用户的openId传送到服务器
4. 服务器在接收到商品Id、商品数量、openId后，生成服务期订单数据，同时经过一定的签名算法，向微信支付发送请求，获取预付单信息(prepay_id)，同时将获取的数据再次进行相应规则的签名，向小程序端响应必要的信息
5. 小程序端在获取对应的参数后，调用wx.requestPayment()发起微信支付，唤醒支付工作台，进行支付
6. 接下来的一些列操作都是由用户来操作的包括了微信支付密码，指纹等验证，确认支付之后执行鉴权调起支付
7. 鉴权调起支付：在微信后台进行鉴权，微信后台直接返回给前端支付的结果，前端收到返回数据后对支付结果进行展示
8. 推送支付结果：微信后台在给前端返回支付的结果后，也会向后台也返回一个支付结果，后台通过这个支付结果来更新订单的状态

### 13、有用过uniapp打包过app吗

- **安卓**
    - HBuilder中菜单中依次点击【发行】-【原生App】
    - 填写应用信息->App名称和图标的设置方式等
    - 点击打包按钮，App开始编译, 随后进入排队等候状态，真正的打包工作将在DCloud的云端执行
    - 等待一段时间之后，打包完成，生成的APK路径在unpackage/release/apk路径下
    - 将这个APK文件传输至手机，就能够查看安装和运行效果了
    - 上述打包好的APK上传到各大电子市场，用户就可以下载使用了

### 14、小程序一键登录(小程序的微信授权流程)

1. 是什么
    - 用微信账号登录自家服务器
2. 具体步骤
    - 在小程序端wx.login()得到登录码code；
    - 小程序请求自家的登录接口，携带登录码code；
    - 自家服务器请求微信服务器，使用appid+appSecret+code换回session_key与openid；
    - 自家服务器将session_key与openid重新换算为自家的登录信息(如token)；
    - 小程序在后续请求自家服务器的过程中都携带该token，自家服务器就知道小程序端已经登录过了；

### 15、uniapp下拉刷新和上拉加载怎么做的

1. 下拉刷新
    - 通过`<uni-scroll-view>`组件的`downRefresh`事件来实现，当下拉触发该事件时，我们设置`isRefreshing`为true，此时显示刷新的状态。时间到达之后，我们再将`isRefreshing`设置为false，同时关闭`uni.stopPullDownRefresh()`；
2. 上拉加载
    - 通过`<uni-scroll-view>`组件中的`@scrolltolower`事件来实现上拉加载更多。当页面内容滑动到了底部时，我们调用`this.loadMore()`方法，该方法中我们可以加载更多的数据，让页面得到更新；

### 16、 uniapp拍照功能怎么做

1. 在需要使用相机拍照功能的页面中，添加一个按钮，用于触发相机拍照的动作；
2. 在Page配置中，引入`uniapp-camera`插件；
3. 在页面的methods中，添加takePhoto方法，用于触发相机拍照功能；
4. 添加data属性，用于保存拍照后的照片的地址；
5. 点击运行按钮来编译并运行这个uni-app项目；

### 17、 bindtap 和 catchtap 区别

1. 相同点： 都是点击事件
2. 不同点： `bindtap` 不会阻止冒泡， `catchtap` 可以阻止冒泡。

### 18、uniapp上传文件时用到api是什么

- uni.uploadFile

    https://uniapp.dcloud.net.cn/api/request/network-file.html#uploadfile

```JavaScript
uni.uploadFile({
   url: '要上传的地址',
   fileType:'image',
   filePath:'图片路径',
   name:'文件对应的key',
   success(res){
      console.log(res)
   }
})
```

### 19、⻚⾯⽣命周期的执行过程：

- ⼩程序注册完成后，加载⻚⾯，触发onLoad⽅法
- ⻚⾯载⼊后触发onShow⽅法，显示⻚⾯
- ⾸次显示⻚⾯，会触发onReady⽅法，渲染⻚⾯元素和样式，⼀个⻚⾯只会调⽤⼀次
- 当⼩程序后台运⾏或跳转到其他⻚⾯时，触发onHide⽅法
- 当⼩程序有后台进⼊到前台运⾏或重新进⼊⻚⾯时，触发onShow⽅法
- 当使⽤重定向⽅法 wx.redirectTo() 或关闭当前⻚返回上⼀⻚wx.navigateBack()，触发onUnload

### 20、当存在也应用生命周期和页面周期的时候执行顺序：

- 打开小程序：(App)onLaunch --> (App)onShow --> (Pages)onLoad --> (Pages)onShow --> (pages)onRead
- 进入下一个页面：(Pages)onHide --> (Next)onLoad --> (Next)onShow --> (Next)onReady
- 返回上一个页面：(curr)onUnload --> (pre)onShow
- 离开小程序：(App)onHide
- 再次进入：小程序未销毁 --> (App)onShow(执行上面的顺序），小程序被销毁，（App)onLaunch重新开始执行.

### 21、小程序的登录流程

  传统的`web`开发实现登陆功能，一般的做法是输入账号密码、或者输入手机号及短信验证码进行登录

  服务端校验用户信息通过之后，下发一个代表登录态的 `token` 给客户端，以便进行后续的交互,每当`token`过期，用户都需要重新登录

  而在微信小程序中，可以通过微信官方提供的登录能力方便地获取微信提供的用户身份标识，快速建立小程序内的用户体系，从而实现登陆功能

  - 通过 wx.login() 获取到用户的code判断用户是否授权读取用户信息，调用wx.getUserInfo 读取用户数据；
  - 由于小程序后台授权域名无法授权微信的域名，所以需要自身后端调用微信服务器获取用户信息；
  - 通过 wx.request() 方法请求业务方服务器，后端把 appid , appsecret 和 code 一起发送到微信服务器。 appid 和 appsecret 都是微信提供的，可以在管理员后台找到；
  - 微信服务器返回了 openid 及本次登录的会话密钥 session_key；
  - 后端从数据库中查找 openid ，如果没有查到记录，说明该用户没有注册，如果有记录，则继续往下走；
  - session_key 是对用户数据进行加密签名的密钥。为了自身应用安全，session_key 不应该在网络上传输；
  - 然后生成 session并返回给小程序；
  - 小程序把 session 存到 storage 里面；
  - 下次请求时，先从 storage 里面读取，然后带给服务端；
  - 服务端对比 session 对应的记录，然后校验有效期；

![](https://secure2.wostatic.cn/static/btcDze66pJ42kRKZtgZbqV/1.png?auth_key=1768104088-9XhgonaRdkfBAmjWnZuFMM-0-44aee8d2228a83f962e6b8e14eb654bc)



### 22、如何提高小程序的加载速度

1. 加载方面
    - 代码包的体积压缩可以通过勾选开发者工具中“上传代码时，压缩代码”选项；
    - 及时清理无用的代码和资源文件；
    - 减少资源包中的图片等资源的数量和大小（理论上除了小icon，其他图片资源从网络下载），图片资源压缩率有限；
    - 可以采取分包加载的操作，将用户访问率高的页面放在主包里，将访问率低的页面放入子包里，按需加载，当用户点击到子包的目录时，还是有一个代码包下载的过程，这会感觉到明显的卡顿，所以子包也不建议拆的太大，当然我们可以采用子包预加载技术，并不需要等到用户点击到子包页面后在下载子包；
2. 渲染方面
    - 请求可以在页面onLoad就加载，不需要等页面ready后在异步请求数据；
    - 尽量减少不必要的https请求，可使用 getStorageSync() 及 setStorageSync() 方法将数据存储在本地；
    - 可以在前置页面将一些有用的字段带到当前页，进行首次渲染（列表页的某些数据--> 详情页），没有数据的模块可以进行骨架屏的占位

    在微信小程序中，提高页面的多次渲染效率主要在于正确使用`setData`：

    - 不要过于频繁调用setData，应考虑将多次setData合并成一次setData调用
    - 数据通信的性能与数据量正相关，因而如果有一些数据字段不在界面中展示且数据结构比较复杂或包含长字符串，则不应使用`setData`来设置这些数据
    - 与界面渲染无关的数据最好不要设置在data中，可以考虑设置在page对象的其他字段下

    除此之外，对于一些独立的模块我们尽可能抽离出来，这是因为自定义组件的更新并不会影响页面上其他元素的更新

    各个组件也将具有各自独立的逻辑空间。每个组件都分别拥有自己的独立的数据、`setData`调用