# Spring Boot + MySQL åç«¯å®ŒæˆæŠ¥å‘Š

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. é¡¹ç›®ç»“æ„åˆ›å»º
- âœ… å®Œæ•´çš„ Spring Boot 3.2.1 é¡¹ç›®ç»“æ„
- âœ… Maven é…ç½® (pom.xml)
- âœ… åˆ†å±‚æ¶æ„ï¼šController â†’ Service â†’ Repository â†’ Entity

### 2. æ ¸å¿ƒåŠŸèƒ½å®ç°

#### å®ä½“ç±» (Entity)
- âœ… Category.java - åˆ†ç±»å®ä½“
- âœ… Question.java - é¢˜ç›®å®ä½“

#### æ•°æ®è®¿é—®å±‚ (Repository)
- âœ… CategoryRepository - åˆ†ç±»æ•°æ®è®¿é—®
- âœ… QuestionRepository - é¢˜ç›®æ•°æ®è®¿é—®ï¼Œæ”¯æŒè¿‡æ»¤å’Œæ’åº

#### ä¸šåŠ¡é€»è¾‘å±‚ (Service)
- âœ… CategoryService - åˆ†ç±»ä¸šåŠ¡é€»è¾‘
  - è·å–æ‰€æœ‰åˆ†ç±»ï¼ˆæŒ‰ order æ’åºï¼‰
  - åˆ›å»ºåˆ†ç±»
  - æ›´æ–°åˆ†ç±»
  - åˆ é™¤åˆ†ç±»
- âœ… QuestionService - é¢˜ç›®ä¸šåŠ¡é€»è¾‘
  - è·å–é¢˜ç›®åˆ—è¡¨ï¼ˆæ”¯æŒ categoryId å’Œ search è¿‡æ»¤ï¼‰
  - è·å–å•ä¸ªé¢˜ç›®
  - åˆ›å»ºé¢˜ç›®ï¼ˆè‡ªåŠ¨ç”Ÿæˆ orderï¼‰
  - æ›´æ–°é¢˜ç›®
  - åˆ é™¤é¢˜ç›®

#### æ§åˆ¶å™¨å±‚ (Controller)
- âœ… CategoryController - åˆ†ç±» REST API
  - GET /api/categories
  - POST /api/categories
  - PUT /api/categories/{id}
  - DELETE /api/categories/{id}
- âœ… QuestionController - é¢˜ç›® REST API
  - GET /api/questions
  - POST /api/questions
  - PUT /api/questions/{id}
  - DELETE /api/questions/{id}

### 3. é…ç½®å’Œå·¥å…·

- âœ… application.properties - åº”ç”¨é…ç½®
- âœ… CorsConfig.java - CORS é…ç½®ï¼ˆå…è®¸å‰ç«¯è·¨åŸŸè°ƒç”¨ï¼‰
- âœ… Flyway æ•°æ®åº“è¿ç§»è„šæœ¬
  - V1__Create_categories_table.sql
  - V2__Create_questions_table.sql

### 4. éƒ¨ç½²å’Œæµ‹è¯•è„šæœ¬

- âœ… deploy.sh - è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
  - æ£€æŸ¥ç¯å¢ƒï¼ˆJava, Maven, MySQLï¼‰
  - é…ç½®æ•°æ®åº“è¿æ¥
  - åˆ›å»ºæ•°æ®åº“
  - æ„å»ºé¡¹ç›®
  - å¯åŠ¨æœåŠ¡
- âœ… test-api.sh - API æµ‹è¯•è„šæœ¬
  - æµ‹è¯•æ‰€æœ‰ REST API æ¥å£
  - éªŒè¯å¢åˆ æ”¹æŸ¥åŠŸèƒ½

### 5. æ–‡æ¡£

- âœ… README.md - åç«¯é¡¹ç›®æ–‡æ¡£
- âœ… QUICK_START.md - å¿«é€Ÿå¼€å§‹æŒ‡å—
- âœ… DEPLOYMENT_GUIDE.md - å®Œæ•´éƒ¨ç½²æŒ‡å—
- âœ… .env.local.example - å‰ç«¯ç¯å¢ƒå˜é‡ç¤ºä¾‹
- âœ… .gitignore - Git å¿½ç•¥é…ç½®

---

## ğŸ“¦ é¡¹ç›®æ–‡ä»¶æ¸…å•

```
backend/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ pom.xml                          # Maven é…ç½®
â”œâ”€â”€ README.md                        # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ QUICK_START.md                   # å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ DEPLOYMENT_GUIDE.md              # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ deploy.sh                        # éƒ¨ç½²è„šæœ¬ï¼ˆå¯æ‰§è¡Œï¼‰
â”œâ”€â”€ test-api.sh                      # API æµ‹è¯•è„šæœ¬ï¼ˆå¯æ‰§è¡Œï¼‰
â”œâ”€â”€ blog-backend.service             # systemd æœåŠ¡é…ç½®
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/com/azhen/blog/
â”‚       â”‚   â”œâ”€â”€ BlogBackendApplication.java
â”‚       â”‚   â”œâ”€â”€ config/
â”‚       â”‚   â”‚   â””â”€â”€ CorsConfig.java
â”‚       â”‚   â”œâ”€â”€ controller/
â”‚       â”‚   â”‚   â”œâ”€â”€ CategoryController.java
â”‚       â”‚   â”‚   â””â”€â”€ QuestionController.java
â”‚       â”‚   â”œâ”€â”€ dto/
â”‚       â”‚   â”‚   â”œâ”€â”€ ApiResponse.java
â”‚       â”‚   â”‚   â”œâ”€â”€ CategoryDTO.java
â”‚       â”‚   â”‚   â””â”€â”€ QuestionDTO.java
â”‚       â”‚   â”œâ”€â”€ entity/
â”‚       â”‚   â”‚   â”œâ”€â”€ Category.java
â”‚       â”‚   â”‚   â””â”€â”€ Question.java
â”‚       â”‚   â”œâ”€â”€ repository/
â”‚       â”‚   â”‚   â”œâ”€â”€ CategoryRepository.java
â”‚       â”‚   â”‚   â””â”€â”€ QuestionRepository.java
â”‚       â”‚   â””â”€â”€ service/
â”‚       â”‚       â”œâ”€â”€ CategoryService.java
â”‚       â”‚       â””â”€â”€ QuestionService.java
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ application.properties
â”‚           â””â”€â”€ db/migration/
â”‚               â”œâ”€â”€ V1__Create_categories_table.sql
â”‚               â””â”€â”€ V2__Create_questions_table.sql
```

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### ç¬¬ä¸€æ­¥ï¼šåœ¨æœ¬åœ°æµ‹è¯•åç«¯

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å¯åŠ¨ MySQLï¼ˆä½¿ç”¨ Dockerï¼‰
docker run --name azhen-mysql \
  -e MYSQL_ROOT_PASSWORD=yourpassword \
  -e MYSQL_DATABASE=azhen_blog \
  -p 3306:3306 \
  -d mysql:8

# è¿è¡Œéƒ¨ç½²è„šæœ¬
./deploy.sh

# æµ‹è¯• API
./test-api.sh
```

### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²åç«¯åˆ°äº‘ç«¯

**é€‰é¡¹ 1: éƒ¨ç½²åˆ° Renderï¼ˆæ¨èï¼‰**

1. å°†åç«¯ä»£ç æ¨é€åˆ° GitHub ä»“åº“
2. è®¿é—® https://render.com
3. åˆ›å»ºæ–° Web Service
4. é…ç½®ï¼š
   - Build Command: `mvn clean package -DskipTests`
   - Start Command: `java -jar target/blog-backend-1.0.0.jar`
5. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   - `SPRING_DATASOURCE_URL`
   - `SPRING_DATASOURCE_USERNAME`
   - `SPRING_DATASOURCE_PASSWORD`

**é€‰é¡¹ 2: éƒ¨ç½²åˆ° Railway**

1. åœ¨ Railway åˆ›å»º MySQL æ•°æ®åº“
2. åˆ›å»ºæ–° Service
3. è¿æ¥åç«¯ä»“åº“
4. é…ç½®ç¯å¢ƒå˜é‡
5. éƒ¨ç½²

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®å‰ç«¯

1. åœ¨å‰ç«¯é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local`:
```env
NEXT_PUBLIC_API_URL=https://your-backend-url.com
```

2. æ›´æ–°å‰ç«¯ API è°ƒç”¨ï¼ˆå¦‚æœéœ€è¦ï¼‰

3. æµ‹è¯•å‰åç«¯è”è°ƒ

### ç¬¬å››æ­¥ï¼šéƒ¨ç½²å‰ç«¯

å‰ç«¯å·²ç»éƒ¨ç½²åˆ° Netlifyï¼Œåªéœ€æ›´æ–°ç¯å¢ƒå˜é‡ï¼š

1. è®¿é—® Netlify Dashboard
2. è¿›å…¥ Site Settings â†’ Environment variables
3. æ·»åŠ /æ›´æ–°ï¼š
   - `NEXT_PUBLIC_API_URL`: `https://your-backend-url.com`
4. è§¦å‘é‡æ–°éƒ¨ç½²

---

## ğŸ“‹ API æ¥å£æ€»è§ˆ

### åˆ†ç±»ç®¡ç†
- âœ… GET `/api/categories` - è·å–æ‰€æœ‰åˆ†ç±»
- âœ… POST `/api/categories` - åˆ›å»ºåˆ†ç±»
- âœ… PUT `/api/categories/{id}` - æ›´æ–°åˆ†ç±»
- âœ… DELETE `/api/categories/{id}` - åˆ é™¤åˆ†ç±»

### é¢˜ç›®ç®¡ç†
- âœ… GET `/api/questions` - è·å–é¢˜ç›®åˆ—è¡¨ï¼ˆæ”¯æŒè¿‡æ»¤ï¼‰
- âœ… POST `/api/questions` - åˆ›å»ºé¢˜ç›®
- âœ… PUT `/api/questions/{id}` - æ›´æ–°é¢˜ç›®
- âœ… DELETE `/api/questions/{id}` - åˆ é™¤é¢˜ç›®

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- âœ… RESTful API è®¾è®¡
- âœ… ç»Ÿä¸€çš„å“åº”æ ¼å¼ (ApiResponse)
- âœ… å®Œæ•´çš„ CRUD æ“ä½œ
- âœ… æ•°æ®éªŒè¯
- âœ… è·¨åŸŸæ”¯æŒ (CORS)
- âœ… æ•°æ®åº“è¿ç§» (Flyway)
- âœ… è‡ªåŠ¨ç”Ÿæˆ order å­—æ®µ
- âœ… æ”¯æŒé¢˜ç›®æœç´¢
- âœ… æ”¯æŒæŒ‰åˆ†ç±»ç­›é€‰
- âœ… æ”¯æŒå¸¸è€ƒé¢˜æ ‡è®°

---

## ğŸ’¡ é‡è¦æç¤º

1. **å‰ç«¯æ— éœ€ä¿®æ”¹ä»£ç ** - ç°æœ‰å‰ç«¯ API è°ƒç”¨æ¥å£ä¸åç«¯å®Œå…¨å…¼å®¹
2. **åªéœ€é…ç½®ç¯å¢ƒå˜é‡** - å°† `.env.local` ä¸­çš„ `NEXT_PUBLIC_API_URL` æŒ‡å‘åç«¯åœ°å€
3. **æ•°æ®åº“è‡ªåŠ¨åˆå§‹åŒ–** - Flyway ä¼šè‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„
4. **CORS å·²é…ç½®** - å‰ç«¯å¯ä»¥è·¨åŸŸè°ƒç”¨åç«¯ API

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

- æŸ¥çœ‹ `backend/README.md` äº†è§£è¯¦ç»†æ–‡æ¡£
- æŸ¥çœ‹ `backend/QUICK_START.md` äº†è§£å¿«é€Ÿå¼€å§‹
- æŸ¥çœ‹ `backend/DEPLOYMENT_GUIDE.md` äº†è§£éƒ¨ç½²æŒ‡å—

---

## âœ¨ æ€»ç»“

âœ… Spring Boot + MySQL åç«¯å·²å®Œæˆ
âœ… æ‰€æœ‰ API æ¥å£å·²å®ç°
âœ… éƒ¨ç½²è„šæœ¬å·²å‡†å¤‡å°±ç»ª
âœ… æ–‡æ¡£é½å…¨
âœ… å‰ç«¯æ— éœ€ä¿®æ”¹ï¼Œåªéœ€é…ç½®ç¯å¢ƒå˜é‡

**å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹éƒ¨ç½²ï¼** ğŸš€
